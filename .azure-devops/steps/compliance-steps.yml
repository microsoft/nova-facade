# These steps have to run on a windows machine,
# and therefore unfortunately can't be integrated in the regular steps

steps:
  - task: UseDotNet@2
    condition: succeededOrFailed()
    displayName: "Use .NET Core sdk 3.x"
    inputs:
      version: 3.x
      steps:
  - task: AssetRetention@3
    displayName: ðŸ§­ Arrow Retention
    inputs:
      ArrowServiceConnection: "Arrow_Domoreexpgithub_PROD"
      AssetGroupName: "$(System.TeamProject)_$(Build.DefinitionName)"
      AssetNumber: "$(Build.BuildId)"
      IsShipped: false
      DropsToRetain: "CodeAnalysisLogs"
    condition: and(succeeded(), eq(variables['Build.SourceBranch'], 'refs/heads/main'))
